<div class="container mx-auto p-4">
    <h1 class="text-3xl font-bold mb-6 text-center">Vitrine de Jogos</h1>
    <div class="flex justify-center mb-4">
        <button (click)="toggleSelectionMode()" class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700">
            {{ isSelectionMode ? 'Cancelar' : 'Enviar produtos' }}
        </button>
    </div>
    <div *ngIf="errorMessage" class="error-message text-red-500 text-center mb-4">
        {{ errorMessage }}
    </div>
    <div *ngIf="calculationResult.length > 0" class="mb-6">
        <h3 class="text-xl font-semibold text-center">Resultado da Calculadora de Caixas:</h3>
        <pre class="bg-gray-100 p-4 rounded-lg">{{ calculationResult | json }}</pre>
    </div>
    <form [formGroup]="gameForm" class="flex flex-wrap justify-center">
        <div *ngFor="let game of games; let i = index"
            class="game-card bg-white shadow-md rounded-lg mb-6 mx-2 w-full sm:w-1/2 lg:w-1/3">
            <label for="checkbox-{{i}}" class="block cursor-pointer p-6 flex items-start">
                <img [src]="game.coverImage" alt="{{ game.name }}" class="w-16 h-16 rounded-full mr-4">
                <div>
                    <h2 class="text-2xl font-semibold mb-2">{{ game.name }}</h2>
                    <p class="text-gray-700 mb-2">{{ game.description }}</p>
                    <p class="text-lg font-bold mb-2">Preço: {{ game.price | currency:'BRL' }}</p>
                    <p class="text-gray-600 mb-4">Dimensão da Caixa: {{ game.boxHeight }} x {{ game.boxWidth }} x {{
                        game.boxLength }}</p>
                    <div *ngIf="isSelectionMode" class="mt-4 flex items-center">
                        <input type="checkbox" id="checkbox-{{i}}" [value]="game"
                            (change)="onCheckboxChange(game, $event)" class="mr-2">
                        <span class="text-gray-700">Selecionar</span>
                    </div>
                </div>
            </label>
        </div>
        <div *ngIf="isSelectionMode" class="w-full flex justify-center mb-6">
            <button type="submit" class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700"
                (click)="sendToBoxCalculator()">Finalizar envio</button>
        </div>
    </form>
    <div class="flex justify-center">
        <a routerLink="/add-game" class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700">Adicionar Novo
            Jogo</a>
    </div>
</div>